"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6775],{3912:(O,_,c)=>{c.d(_,{e:()=>i});var p=c(2557),h=c(1360);let i=(()=>{var l;class n{constructor(a){this.http=a,this.API="https://api.spotify.com/v1"}get headers(){const a=localStorage.getItem("access_token");if(!a)throw new Error("No Spotify access token found.");return new p.Lr({Authorization:`Bearer ${a}`})}searchTracks(a){return this.http.get(`${this.API}/search`,{headers:this.headers,params:(new p.Nl).set("q",a).set("type","track").set("limit","20")})}play(a){return this.http.put(`${this.API}/me/player/play`,{uris:[a]},{headers:this.headers})}getRandomTracks(a=20){const m=["pop","rock","hip-hop","jazz","classical","electronic","country"],d=[];for(;d.length<2;){const P=m[Math.floor(Math.random()*m.length)];d.includes(P)||d.push(P)}const f=(new p.Nl).set("seed_genres",d.join(",")).set("limit",a.toString());return this.http.get(`${this.API}/recommendations`,{headers:this.headers,params:f})}getTrack(a){return this.http.get(`${this.API}/tracks/${a}`,{headers:this.headers})}}return(l=n).\u0275fac=function(a){return new(a||l)(h.KVO(p.Qq))},l.\u0275prov=h.jDH({token:l,factory:l.\u0275fac,providedIn:"root"}),n})()},6775:(O,_,c)=>{c.r(_),c.d(_,{SearchPageModule:()=>x});var p=c(2881),h=c(4341),i=c(3092),l=c(5207),n=c(1360),M=c(5367),a=c(3912),m=c(4970);function d(t,s){if(1&t){const r=n.RV6();n.j41(0,"ion-item",7),n.bIt("click",function(){const o=n.eBV(r).$implicit,g=n.XpG(2);return n.Njj(g.playTrack(o))}),n.j41(1,"ion-thumbnail",8),n.nrm(2,"img",9),n.k0s(),n.j41(3,"ion-label")(4,"h2"),n.EFF(5),n.k0s(),n.j41(6,"p"),n.EFF(7),n.k0s()(),n.j41(8,"ion-button",10),n.bIt("click",function(o){const g=n.eBV(r).$implicit;return n.XpG(2).playTrack(g),n.Njj(o.stopPropagation())}),n.nrm(9,"ion-icon",11),n.k0s()()}if(2&t){const r=s.$implicit;n.R7$(2),n.Y8G("src",(null==r.album.images[0]?null:r.album.images[0].url)||"assets/placeholder.png",n.B4B),n.R7$(3),n.JRh(r.name),n.R7$(2),n.JRh(null==r.artists[0]?null:r.artists[0].name)}}function f(t,s){if(1&t&&(n.j41(0,"div",5)(1,"ion-list"),n.DNE(2,d,10,3,"ion-item",6),n.k0s()()),2&t){const r=n.XpG();n.R7$(2),n.Y8G("ngForOf",r.tracks)}}function P(t,s){1&t&&(n.j41(0,"p",12),n.EFF(1,"No tracks found."),n.k0s())}const b=[{path:"",component:(()=>{var t;class s{constructor(e,o,g){this.router=e,this.spotify=o,this.playback=g,this.query="",this.tracks=[]}ngOnInit(){localStorage.getItem("access_token")?this.onSearch():this.router.navigateByUrl("/home")}onSearch(){const e=this.query.trim()||"a";this.spotify.searchTracks(e).subscribe(o=>this.tracks=o.tracks.items)}playTrack(e){var o;this.playback.play({id:e.id,type:"spotify",uri:e.uri,name:e.name,artists:e.artists.map(g=>g.name),thumbnail:null===(o=e.album.images[0])||void 0===o?void 0:o.url})}}return(t=s).\u0275fac=function(e){return new(e||t)(n.rXU(M.Ix),n.rXU(a.e),n.rXU(m.z))},t.\u0275cmp=n.VBU({type:t,selectors:[["app-search"]],standalone:!1,decls:9,vars:4,consts:[["noResults",""],[1,"search-header",3,"translucent"],["placeholder","Type to search\u2026","show-clear-button","focus",1,"custom-searchbar",3,"ngModelChange","ionInput","ngModel"],[1,"search-content"],["class","results-container",4,"ngIf","ngIfElse"],[1,"results-container"],["class","track-item","lines","full",3,"click",4,"ngFor","ngForOf"],["lines","full",1,"track-item",3,"click"],["slot","start"],[3,"src"],["fill","clear","slot","end",3,"click"],["name","play"],[1,"empty-state"]],template:function(e,o){if(1&e){const g=n.RV6();n.j41(0,"ion-header",1)(1,"ion-toolbar")(2,"ion-title"),n.EFF(3,"Search Spotify"),n.k0s(),n.j41(4,"ion-searchbar",2),n.mxI("ngModelChange",function(u){return n.eBV(g),n.DH7(o.query,u)||(o.query=u),n.Njj(u)}),n.bIt("ionInput",function(){return n.eBV(g),n.Njj(o.onSearch())}),n.k0s()()(),n.j41(5,"ion-content",3),n.DNE(6,f,3,1,"div",4)(7,P,2,0,"ng-template",null,0,n.C5r),n.k0s()}if(2&e){const g=n.sdS(8);n.Y8G("translucent",!0),n.R7$(4),n.R50("ngModel",o.query),n.R7$(2),n.Y8G("ngIf",null==o.tracks?null:o.tracks.length)("ngIfElse",g)}},dependencies:[p.Sq,p.bT,h.BC,h.vS,i.Jm,i.W9,i.eU,i.iq,i.uz,i.he,i.nf,i.S1,i.Zx,i.BC,i.ai,i.Gw],styles:[".search-header[_ngcontent-%COMP%]{--background: #121212;--border-color: #333333}.search-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--background: #121212;--color: #ffffff;--border-color: #333333}.search-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   ion-title[_ngcontent-%COMP%]{color:#fff;font-weight:700;font-size:1.5rem}.search-header[_ngcontent-%COMP%]   .custom-searchbar[_ngcontent-%COMP%]{--background: #181818;--color: #ffffff;--placeholder-color: #535353;--icon-color: #b3b3b3;--clear-button-color: #b3b3b3;--border-radius: 25px;margin:8px 16px;border:1px solid #333333;border-radius:25px;transition:all .3s ease}.search-header[_ngcontent-%COMP%]   .custom-searchbar[_ngcontent-%COMP%]:focus-within{border-color:#1db954;box-shadow:0 0 0 2px #1db95433}.search-header[_ngcontent-%COMP%]   .custom-searchbar[_ngcontent-%COMP%]   .searchbar-input[_ngcontent-%COMP%]{padding:0 20px;font-size:1rem}.search-content[_ngcontent-%COMP%]{--background: #121212;--color: #ffffff}.results-container[_ngcontent-%COMP%]{padding:16px 0}.results-container[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]{background:transparent}.results-container[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--background: transparent;--color: #ffffff;--border-color: #333333;--inner-border-width: 0;--padding-start: 16px;--padding-end: 16px;margin:4px 16px;border-radius:8px;transition:all .2s ease;cursor:pointer}.results-container[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]:hover{--background: #282828;transform:translateY(-1px);box-shadow:0 4px 12px #0000004d}.results-container[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]:active{transform:translateY(0)}.track-item[_ngcontent-%COMP%]   ion-thumbnail[_ngcontent-%COMP%]{width:56px;height:56px;border-radius:4px;overflow:hidden}.track-item[_ngcontent-%COMP%]   ion-thumbnail[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;transition:transform .3s ease}.track-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{margin-left:16px}.track-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-weight:600;font-size:1rem;margin:0 0 4px;line-height:1.2}.track-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#b3b3b3;font-size:.875rem;margin:0;line-height:1.2}.track-item[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--color: #b3b3b3;--color-hover: #1db954;--border-radius: 50%;--padding-start: 12px;--padding-end: 12px;width:40px;height:40px;transition:all .2s ease}.track-item[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]:hover{--color: #1db954;transform:scale(1.1)}.track-item[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1.2rem}.track-item[_ngcontent-%COMP%]:hover   ion-thumbnail[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:scale(1.05)}ion-footer[_ngcontent-%COMP%]{--background: #181818;--border-color: #333333}ion-footer[_ngcontent-%COMP%]   .mini-player-toolbar[_ngcontent-%COMP%]{--background: #181818;--color: #ffffff;--border-color: #333333;padding:8px 0;border-top:1px solid #333333}ion-footer[_ngcontent-%COMP%]   .mini-player[_ngcontent-%COMP%]{display:flex;align-items:center;padding:0 16px 8px}ion-footer[_ngcontent-%COMP%]   .mini-player[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--color: #1db954;--color-hover: #1ed760;--border-radius: 50%;--padding-start: 12px;--padding-end: 12px;width:48px;height:48px;margin-right:16px;transition:all .2s ease}ion-footer[_ngcontent-%COMP%]   .mini-player[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]:hover{transform:scale(1.05)}ion-footer[_ngcontent-%COMP%]   .mini-player[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1.5rem}ion-footer[_ngcontent-%COMP%]   .mini-player[_ngcontent-%COMP%]   .track-info[_ngcontent-%COMP%]{flex:1}ion-footer[_ngcontent-%COMP%]   .mini-player[_ngcontent-%COMP%]   .track-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;color:#fff;font-weight:600;font-size:.95rem;line-height:1.2;margin-bottom:2px}ion-footer[_ngcontent-%COMP%]   .mini-player[_ngcontent-%COMP%]   .track-info[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#b3b3b3;font-size:.8rem;line-height:1.2}ion-footer[_ngcontent-%COMP%]   .seek-bar[_ngcontent-%COMP%]{padding:0 16px 8px}ion-footer[_ngcontent-%COMP%]   .seek-bar[_ngcontent-%COMP%]   ion-range[_ngcontent-%COMP%]{--bar-background: #333333;--bar-background-active: #1db954;--knob-background: #1db954;--knob-size: 16px;--height: 4px;padding:0}ion-footer[_ngcontent-%COMP%]   .seek-bar[_ngcontent-%COMP%]   ion-range[_ngcontent-%COMP%]::part(bar){border-radius:2px}ion-footer[_ngcontent-%COMP%]   .seek-bar[_ngcontent-%COMP%]   ion-range[_ngcontent-%COMP%]::part(bar-active){border-radius:2px}ion-footer[_ngcontent-%COMP%]   .seek-bar[_ngcontent-%COMP%]   ion-range[_ngcontent-%COMP%]::part(knob){box-shadow:0 2px 8px #1db95466;transition:all .2s ease}ion-footer[_ngcontent-%COMP%]   .seek-bar[_ngcontent-%COMP%]   ion-range[_ngcontent-%COMP%]::part(knob):hover{transform:scale(1.2)}ion-footer[_ngcontent-%COMP%]   .seek-bar[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{color:#535353;font-size:.75rem;font-weight:500}@media (max-width: 768px){.search-header[_ngcontent-%COMP%]   ion-title[_ngcontent-%COMP%]{font-size:1.25rem}.search-header[_ngcontent-%COMP%]   .custom-searchbar[_ngcontent-%COMP%]{margin:6px 12px}.results-container[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{margin:2px 8px;--padding-start: 12px;--padding-end: 12px}.track-item[_ngcontent-%COMP%]   ion-thumbnail[_ngcontent-%COMP%]{width:48px;height:48px}.track-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{margin-left:12px}.track-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:.9rem}.track-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8rem}.track-item[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{width:36px;height:36px}.track-item[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1rem}.mini-player[_ngcontent-%COMP%]{padding:0 12px 8px}.mini-player[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{width:44px;height:44px;margin-right:12px}.mini-player[_ngcontent-%COMP%]   .track-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.9rem}.mini-player[_ngcontent-%COMP%]   .track-info[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:.75rem}.seek-bar[_ngcontent-%COMP%]{padding:0 12px 8px}}.loading-state[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:40px 20px;color:#b3b3b3}.loading-state[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%]{--color: #1db954;margin-right:12px}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:60px 20px;color:#b3b3b3}.empty-state[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:4rem;color:#535353;margin-bottom:16px}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#fff;margin:0 0 8px;font-weight:600}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.9rem}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.track-item[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-out}[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#121212}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#333;border-radius:4px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#535353}"]}),s})()}];let k=(()=>{var t;class s{}return(t=s).\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.$C({type:t}),t.\u0275inj=n.G2t({imports:[l.iI.forChild(b),l.iI]}),s})(),x=(()=>{var t;class s{}return(t=s).\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.$C({type:t}),t.\u0275inj=n.G2t({imports:[p.MD,h.YN,i.bv,k]}),s})()}}]);